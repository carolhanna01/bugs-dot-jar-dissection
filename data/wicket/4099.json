{
  "files": 1, 
  "singleLine": false, 
  "nb_error": 0, 
  "failing_tests": [
    "dontParseMarkup(org.apache.wicket.extensions.markup.html.basic.DefaultLinkParserTest): expected:<<a href=\"[http://some.url]\">label</a>> but was:<<a href=\"[<a href=\"http://some.url\">http://some.url</a>]\">label</a>>"
  ], 
  "nb_test": 16, 
  "patch": "diff --git a/wicket-extensions/src/main/java/org/apache/wicket/extensions/markup/html/basic/LinkParser.java b/wicket-extensions/src/main/java/org/apache/wicket/extensions/markup/html/basic/LinkParser.java\nindex ff1aa1b..8cf4356 100644\n--- a/wicket-extensions/src/main/java/org/apache/wicket/extensions/markup/html/basic/LinkParser.java\n+++ b/wicket-extensions/src/main/java/org/apache/wicket/extensions/markup/html/basic/LinkParser.java\n@@ -62,19 +62,24 @@ public class LinkParser implements ILinkParser\n \t\t}\n \n \t\tString work = text;\n-\t\tfor (String pattern : renderStrategies.keySet())\n-\t\t{\n-\t\t\tILinkRenderStrategy strategy = renderStrategies.get(pattern);\n \n-\t\t\tMatcher matcher = Pattern.compile(pattern, Pattern.DOTALL).matcher(work);\n-\t\t\tStringBuffer buffer = new StringBuffer();\n-\t\t\twhile (matcher.find())\n+\t\t// don't try to parse markup. just plain text. WICKET-4099\n+\t\tif (work.indexOf('<') == -1)\n+\t\t{\n+\t\t\tfor (String pattern : renderStrategies.keySet())\n \t\t\t{\n-\t\t\t\tString str = matcher.group();\n-\t\t\t\tmatcher.appendReplacement(buffer, strategy.buildLink(str));\n+\t\t\t\tILinkRenderStrategy strategy = renderStrategies.get(pattern);\n+\n+\t\t\t\tMatcher matcher = Pattern.compile(pattern, Pattern.DOTALL).matcher(work);\n+\t\t\t\tStringBuffer buffer = new StringBuffer();\n+\t\t\t\twhile (matcher.find())\n+\t\t\t\t{\n+\t\t\t\t\tString str = matcher.group();\n+\t\t\t\t\tmatcher.appendReplacement(buffer, strategy.buildLink(str));\n+\t\t\t\t}\n+\t\t\t\tmatcher.appendTail(buffer);\n+\t\t\t\twork = buffer.toString();\n \t\t\t}\n-\t\t\tmatcher.appendTail(buffer);\n-\t\t\twork = buffer.toString();\n \t\t}\n \t\treturn work;\n \t}\n", 
  "project": "wicket", 
  "linesAdd": 15, 
  "nb_skipped": 0, 
  "fix_commit": "1dcaec98", 
  "nb_failure": 1, 
  "id": "4099", 
  "linesRem": 10
}