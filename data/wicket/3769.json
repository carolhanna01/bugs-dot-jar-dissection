{"files": 1, "singleLine": false, "nb_error": 0, "failing_tests": ["sessionInvalidate(org.apache.wicket.util.tester.WicketTesterSessionInvalidateTest)"], "nb_test": 1196, "patch": "diff --git a/wicket-core/src/main/java/org/apache/wicket/mock/MockSessionStore.java b/wicket-core/src/main/java/org/apache/wicket/mock/MockSessionStore.java\nindex 0eb0abe..61c1581 100644\n--- a/wicket-core/src/main/java/org/apache/wicket/mock/MockSessionStore.java\n+++ b/wicket-core/src/main/java/org/apache/wicket/mock/MockSessionStore.java\n@@ -86,12 +86,13 @@ public class MockSessionStore implements ISessionStore\n \n \tpublic void invalidate(Request request)\n \t{\n+\t\tString sessId = sessionId;\n+\t\tcleanup();\n \t\tfor (UnboundListener l : unboundListeners)\n \t\t{\n-\t\t\tl.sessionUnbound(sessionId);\n+\t\t\tl.sessionUnbound(sessId);\n \t\t}\n \n-\t\tcleanup();\n \t}\n \n \tpublic Session lookup(Request request)\n", "project": "wicket", "linesAdd": 3, "nb_skipped": 1, "fix_commit": "b4e9d426", "nb_failure": 1, "id": "3769", "linesRem": 2}