{"nb_failure": 0, "nb_error": 1, "failing_tests": ["SocketAppenderTest.testDefaultProtocol:128 \u00bb NullPointer"], "patch": "diff --git a/core/src/main/java/org/apache/logging/log4j/core/appender/SocketAppender.java b/core/src/main/java/org/apache/logging/log4j/core/appender/SocketAppender.java\nindex f9d0665..01701f6 100644\n--- a/core/src/main/java/org/apache/logging/log4j/core/appender/SocketAppender.java\n+++ b/core/src/main/java/org/apache/logging/log4j/core/appender/SocketAppender.java\n@@ -115,8 +115,7 @@ public class SocketAppender<T extends Serializable> extends AbstractOutputStream\n             return null;\n         }\n \n-        final String prot = protocol != null ? protocol : Protocol.TCP.name();\n-        final Protocol p = EnglishEnums.valueOf(Protocol.class, protocol);\n+        final Protocol p = EnglishEnums.valueOf(Protocol.class, protocol != null ? protocol : Protocol.TCP.name());\n         if (p.equals(Protocol.UDP)) {\n             isFlush = true;\n         }\n", "nb_test": 341, "nb_skipped": 2, "fix_commit": "50e19247", "id": "139"}