{"files": 1, "singleLine": false, "nb_error": 1, "failing_tests": ["BracketInNotInterpolatedMessageTest.noInterpolation:53 \u00bb IllegalArgument can't..."], "nb_test": 77, "patch": "diff --git a/log4j-jul/src/main/java/org/apache/logging/log4j/jul/ApiLogger.java b/log4j-jul/src/main/java/org/apache/logging/log4j/jul/ApiLogger.java\nindex adac9be..92b2dff 100644\n--- a/log4j-jul/src/main/java/org/apache/logging/log4j/jul/ApiLogger.java\n+++ b/log4j-jul/src/main/java/org/apache/logging/log4j/jul/ApiLogger.java\n@@ -23,6 +23,7 @@ import java.util.logging.LogRecord;\n import java.util.logging.Logger;\n \n import org.apache.logging.log4j.message.Message;\n+import org.apache.logging.log4j.message.MessageFactory;\n import org.apache.logging.log4j.spi.ExtendedLogger;\n \n /**\n@@ -36,7 +37,7 @@ import org.apache.logging.log4j.spi.ExtendedLogger;\n  * accurate!</p>\n  * <p>Also note that {@link #setParent(java.util.logging.Logger)} is explicitly unsupported. Parent loggers are\n  * determined using the syntax of the logger name; not through an arbitrary graph of loggers.</p>\n- * \n+ *\n  * @since 2.1\n  */\n public class ApiLogger extends Logger {\n@@ -56,7 +57,11 @@ public class ApiLogger extends Logger {\n             return;\n         }\n         final org.apache.logging.log4j.Level level = LevelTranslator.toLevel(record.getLevel());\n-        final Message message = logger.getMessageFactory().newMessage(record.getMessage(), record.getParameters());\n+        final Object[] parameters = record.getParameters();\n+        final MessageFactory messageFactory = logger.getMessageFactory();\n+        final Message message = parameters == null ?\n+            messageFactory.newMessage(record.getMessage()) /* LOG4J2-1251: not formatted case */ :\n+            messageFactory.newMessage(record.getMessage(), parameters);\n         final Throwable thrown = record.getThrown();\n         logger.logIfEnabled(FQCN, level, null, message, thrown);\n     }\n@@ -94,6 +99,7 @@ public class ApiLogger extends Logger {\n \n     /**\n      * Unsupported operation.\n+     *\n      * @throws UnsupportedOperationException always\n      */\n     @Override\n", "project": "logging-log4j2", "linesAdd": 8, "nb_skipped": 0, "fix_commit": "424068f7", "nb_failure": 0, "id": "1251", "linesRem": 2}