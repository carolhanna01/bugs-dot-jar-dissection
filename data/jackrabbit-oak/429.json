{"nb_failure": 0, "nb_error": 2, "failing_tests": ["testAssignFromDate(org.apache.jackrabbit.oak.plugins.memory.MemoryPropertyBuilderTest): java.lang.Long cannot be cast to java.lang.String", "testAssignFromDates(org.apache.jackrabbit.oak.plugins.memory.MemoryPropertyBuilderTest): java.lang.Long cannot be cast to java.lang.String"], "patch": "diff --git a/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/memory/MemoryPropertyBuilder.java b/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/memory/MemoryPropertyBuilder.java\nindex 2e9ac56..286b453 100644\n--- a/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/memory/MemoryPropertyBuilder.java\n+++ b/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/memory/MemoryPropertyBuilder.java\n@@ -223,11 +223,21 @@ public class MemoryPropertyBuilder<T> implements PropertyBuilder<T> {\n             setName(property.getName());\n             if (property.isArray()) {\n                 isArray = true;\n-                setValues((Iterable<T>) property.getValue(type.getArrayType()));\n+                if (type == Type.DATE) {\n+                    setValues((Iterable<T>) property.getValue(Type.STRINGS));\n+                }\n+                else {\n+                    setValues((Iterable<T>) property.getValue(type.getArrayType()));\n+                }\n             }\n             else {\n                 isArray = false;\n-                setValue(property.getValue(type));\n+                if (type == Type.DATE) {\n+                    setValue((T) property.getValue(Type.STRING));\n+                }\n+                else {\n+                    setValue(property.getValue(type));\n+                }\n             }\n         }\n         return this;\n", "nb_test": 396, "nb_skipped": 3, "fix_commit": "c02ecef8", "id": "429"}