{
  "files": 1, 
  "singleLine": false, 
  "nb_error": 1, 
  "failing_tests": [
    "nodeType(org.apache.jackrabbit.oak.jcr.CRUDTest): Unexpected exception, expected<javax.jcr.nodetype.ConstraintViolationException> but was<java.lang.NullPointerException>"
  ], 
  "nb_test": 511, 
  "patch": "diff --git a/oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/NodeImpl.java b/oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/NodeImpl.java\nindex 2c8566b..7cb7e2c 100644\n--- a/oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/NodeImpl.java\n+++ b/oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/NodeImpl.java\n@@ -250,11 +250,10 @@ public class NodeImpl<T extends NodeDelegate> extends ItemImpl<T> implements Nod\n                 String ntName = primaryNodeTypeName;\n                 if (ntName == null) {\n                     DefinitionProvider dp = sessionDelegate.getDefinitionProvider();\n-                    try {\n-                        String childName = sessionDelegate.getOakName(PathUtils.getName(relPath));\n-                        NodeDefinition def = dp.getDefinition(new NodeImpl<NodeDelegate>(parent), childName);\n-                        ntName = def.getDefaultPrimaryTypeName();\n-                    } catch (RepositoryException e) {\n+                    String childName = sessionDelegate.getOakName(PathUtils.getName(relPath));\n+                    NodeDefinition def = dp.getDefinition(new NodeImpl<NodeDelegate>(parent), childName);\n+                    ntName = def.getDefaultPrimaryTypeName();\n+                    if (ntName == null) {\n                         throw new ConstraintViolationException(\n                                 \"no matching child node definition found for \" + relPath);\n                     }\n", 
  "project": "jackrabbit-oak", 
  "linesAdd": 4, 
  "nb_skipped": 1, 
  "fix_commit": "7a84b3a8", 
  "nb_failure": 0, 
  "id": "642", 
  "linesRem": 5
}