{"nb_failure": 1, "nb_error": 0, "failing_tests": ["testAddRemovedNodeAgain(org.apache.jackrabbit.oak.plugins.memory.MemoryNodeBuilderTest)"], "patch": "diff --git a/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/memory/MemoryNodeBuilder.java b/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/memory/MemoryNodeBuilder.java\nindex 6600cc7..68cc5f2 100644\n--- a/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/memory/MemoryNodeBuilder.java\n+++ b/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/memory/MemoryNodeBuilder.java\n@@ -422,7 +422,9 @@ public class MemoryNodeBuilder implements NodeBuilder {\n         read(); // shortcut when dealing with a read-only child node\n         if (baseState != null\n                 && baseState.hasChildNode(name)\n-                && (writeState == null || !writeState.nodes.containsKey(name))) {\n+                && (writeState == null\n+                    || (writeState.base == baseState\n+                        && !writeState.nodes.containsKey(name)))) {\n             return createChildBuilder(name);\n         }\n \n", "nb_test": 399, "nb_skipped": 0, "fix_commit": "00df38d2", "id": "447"}