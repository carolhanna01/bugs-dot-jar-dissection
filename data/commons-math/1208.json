{
  "files": 1, 
  "singleLine": false, 
  "nb_error": 0, 
  "failing_tests": [
    "EmpiricalDistributionTest.testKernelOverrideConstant:489 expected:<0.0> but was:<0.2>", 
    "EmpiricalDistributionTest.testNoBinVariance:449 expected:<0.5> but was:<1.0>"
  ], 
  "nb_test": 5851, 
  "patch": "diff --git a/src/main/java/org/apache/commons/math4/random/EmpiricalDistribution.java b/src/main/java/org/apache/commons/math4/random/EmpiricalDistribution.java\nindex 61bb65b..685c08b 100644\n--- a/src/main/java/org/apache/commons/math4/random/EmpiricalDistribution.java\n+++ b/src/main/java/org/apache/commons/math4/random/EmpiricalDistribution.java\n@@ -610,7 +610,11 @@ public class EmpiricalDistribution extends AbstractRealDistribution {\n         final double pB = pB(binIndex);\n         final RealDistribution kernel = k(x);\n         if (kernel instanceof ConstantRealDistribution) {\n-            return pBminus + pB;\n+            if (x < kernel.getNumericalMean()) {\n+                return pBminus;\n+            } else {\n+                return pBminus + pB;\n+            }\n         }\n         final double[] binBounds = getUpperBounds();\n         final double kB = kB(binIndex);\n", 
  "project": "commons-math", 
  "linesAdd": 5, 
  "nb_skipped": 3, 
  "fix_commit": "ce2badf0", 
  "nb_failure": 2, 
  "id": "1208", 
  "linesRem": 1
}