{"nb_failure": 0, "nb_error": 2, "failing_tests": ["StaxConverterTest>TestSupport.runBare:58->testEncodingXmlEventReader:64 \u00bb XMLStream", "StaxConverterTest>TestSupport.runBare:58->testEncodingXmlStreamReader:100 \u00bb XMLStream"], "patch": "diff --git a/camel-core/src/main/java/org/apache/camel/converter/jaxp/StaxConverter.java b/camel-core/src/main/java/org/apache/camel/converter/jaxp/StaxConverter.java\nindex 1cd33ae..5469df5 100644\n--- a/camel-core/src/main/java/org/apache/camel/converter/jaxp/StaxConverter.java\n+++ b/camel-core/src/main/java/org/apache/camel/converter/jaxp/StaxConverter.java\n@@ -167,7 +167,7 @@ public class StaxConverter {\n     public XMLStreamReader createXMLStreamReader(InputStream in, Exchange exchange) throws XMLStreamException {\n         XMLInputFactory factory = getInputFactory();\n         try {\n-            return factory.createXMLStreamReader(IOHelper.buffered(in), IOHelper.getCharsetName(exchange));\n+            return factory.createXMLStreamReader(IOHelper.buffered(in), IOHelper.getCharsetName(exchange, false));\n         } finally {\n             returnXMLInputFactory(factory);\n         }\n@@ -236,7 +236,7 @@ public class StaxConverter {\n     public XMLEventReader createXMLEventReader(InputStream in, Exchange exchange) throws XMLStreamException {\n         XMLInputFactory factory = getInputFactory();\n         try {\n-            return factory.createXMLEventReader(IOHelper.buffered(in), IOHelper.getCharsetName(exchange));\n+            return factory.createXMLEventReader(IOHelper.buffered(in), IOHelper.getCharsetName(exchange, false));\n         } finally {\n             returnXMLInputFactory(factory);\n         }\n", "nb_test": 4714, "nb_skipped": 1, "fix_commit": "f412d744", "id": "6779"}