{
  "project": "kafka",
  "jira_id": "7068",
  "commit": "be846d83",
  "classification": {
    "singleLine": false
  },
  "patch": "diff --git a/clients/src/main/java/org/apache/kafka/common/config/ConfigTransformer.java b/clients/src/main/java/org/apache/kafka/common/config/ConfigTransformer.java\nindex 7e21a3223d..f5a3737d33 100644\n--- a/clients/src/main/java/org/apache/kafka/common/config/ConfigTransformer.java\n+++ b/clients/src/main/java/org/apache/kafka/common/config/ConfigTransformer.java\n@@ -80,6 +80,7 @@ public class ConfigTransformer {\n \n         // Collect the variables from the given configs that need transformation\n         for (Map.Entry<String, String> config : configs.entrySet()) {\n+            if (config.getValue() != null) {\n                 List<ConfigVariable> vars = getVars(config.getKey(), config.getValue(), DEFAULT_PATTERN);\n                 for (ConfigVariable var : vars) {\n                     Map<String, Set<String>> keysByPath = keysByProvider.computeIfAbsent(var.providerName, k -> new HashMap<>());\n@@ -87,6 +88,7 @@ public class ConfigTransformer {\n                     keys.add(var.variable);\n                 }\n             }\n+        }\n \n         // Retrieve requested variables from the ConfigProviders\n         Map<String, Long> ttls = new HashMap<>();\n@@ -131,6 +133,9 @@ public class ConfigTransformer {\n     private static String replace(Map<String, Map<String, Map<String, String>>> lookupsByProvider,\n                                   String value,\n                                   Pattern pattern) {\n+        if (value == null) {\n+            return null;\n+        }\n         Matcher matcher = pattern.matcher(value);\n         StringBuilder builder = new StringBuilder();\n         int i = 0;\n",
  "files": 1,
  "linesAdd": 5,
  "linesRem": 0,
  "failing_tests": [],
  "nb_test": 0,
  "nb_failure": 0,
  "nb_error": 0,
  "nb_skipped": 0
}